<link rel="stylesheet" href="./estilos/propagandas-page.css">

<script>
       const inFile = document.getElementById("banner");
       const previewContainer = document.getElementById("imagePreview");
       const previewImage = previewContainer.querySelector(".image-preview__image"); 
       const previewText = previewContainer.querySelector(".image-preview__default-text"); 

       inFile.addEventListener("change", function() {
              const file = this.files[0];
              if (file) {
                     const reader = new FileReader();
                     previewText.style.display = "none";
                     previewImage.style.display = "block";

                     reader.addEventListener("load", function() {
                            previewImage.setAttribute("src", this.result);
                     });
                     reader.readAsDataURL(file); 
              } else {
                     previewText.style.display = null;
                     previewImage.style.display = null;
                     previewImage.setAttribute("src", "");
              }              
       });

       function salvarPropaganda() {
              // gravar no banco
       }
</script>

<div id="propagandas-page">
       <div class="card">
              <div class="card-header">
                     <label>Upload da propaganda</label>
              </div>
              <div class="card-content">
                     <input type="file" name="banner" id="banner" accept="image/*" required>
                     <div class="image-preview" id="imagePreview"> 
                            <img src="" alt="Pré-visualização" class="image-preview__image">
                            <span class="image-preview__default-text">
                                   Pré-visualização
                            </span>
                     </div>
                     <p>Data de encerramento:</p>
                     <input type="date" name="data_encerramento" required>

                     <div class="buttons">
                            <button onclick="salvarPropaganda()">Salvar</button>
                     </div>                     
              </div>
       </div>
</div>